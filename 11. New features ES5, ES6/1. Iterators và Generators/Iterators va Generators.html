<!DOCTYPE html>
<html>
<head>
<title>Iterators va Generators.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="iterators-v%C3%A0-generators">Iterators v√† Generators</h1>
<p><a href="https://xdevclass.com/ban-da-biet-ve-iterator-iterable-va-generators-trong-javascript-chua/">B√†i g·ªëc: B·∫°n ƒë√£ bi·∫øt v·ªÅ Iterator, Iterable v√† Generator trong Javascript ch∆∞a?</a></p>
<p>Code Javascript l√¢u nƒÉm ch·∫Øc ch·∫Øn b·∫°n ch∆∞a bi·∫øt ƒëi·ªÅu n√†y (m√¨nh ƒë√πa theo trend tiktok 1 t√≠, b·∫°n n√†o bi·∫øt r·ªìi th√¨ xem ti·∫øp ch·ª© ƒë·ª´ng b·ªè qua):mrgreen: .</p>
<p>ƒê√≥ l√† Iterator, Iterable v√† Generator. N√≥ kh√¥ng h·ªÅ m·ªõi, n√≥ ƒë√£ c√≥ t·ª´ kh√° l√¢u r·ªìi nh∆∞ng ƒë√¥i khi ch√∫ng ta √≠t d√πng hay ch∆∞a g·∫∑p n√™n ch∆∞a ƒë·ªÉ √Ω n√≥.</p>
<p>Kh√¥ng sao ^^! H√¥m nay m√¨nh s·∫Ω c√πng c√°c b·∫°n ƒëi t√¨m hi·ªÉu r√µ ch√∫ng l√† g√¨ v√† c√°c tr∆∞·ªùng h·ª£p n√†o d√πng ch√∫ng.</p>
<h2 id="iterator-l%C3%A0-g%C3%AC">Iterator l√† g√¨?</h2>
<p>Trong Javascript, m·ªôt <strong>iterator</strong> l√† m·ªôt object m√† n√≥ ƒë·ªãnh nghƒ©a m·ªôt tr√¨nh t·ª± v√† gi√° tr·ªã c√≥ th·ªÉ tr·∫£ v·ªÅ ti·∫øp theo tr∆∞·ªõc khi k·∫øt th√∫c. Nghe h∆°i kh√≥ hi·ªÉu nh·ªü üòØ .</p>
<p>Xem v√≠ d·ª• l√† hi·ªÉu ngay.</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeRangeIterator</span>(<span class="hljs-params">start = <span class="hljs-number">0</span>, end = Infinity, step = <span class="hljs-number">1</span></span>) </span>{
  <span class="hljs-keyword">let</span> nextIndex = start
  <span class="hljs-keyword">let</span> iterationCount = <span class="hljs-number">0</span>
  <span class="hljs-keyword">const</span> rangeIterator = {
    <span class="hljs-attr">next</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">let</span> result
      <span class="hljs-keyword">if</span> (nextIndex &lt;= end) {
        result = { <span class="hljs-attr">value</span>: nextIndex, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> }
        nextIndex += step
        iterationCount++
        <span class="hljs-keyword">return</span> result
      }
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">value</span>: iterationCount, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> }
    }
  }
  <span class="hljs-keyword">return</span> rangeIterator
}
<span class="hljs-keyword">let</span> it = makeRangeIterator(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-number">2</span>)
<span class="hljs-built_in">console</span>.log(it.next()) <span class="hljs-comment">// {value: 1, done: false}</span>
<span class="hljs-built_in">console</span>.log(it.next()) <span class="hljs-comment">// {value: 3, done: false}</span>
<span class="hljs-built_in">console</span>.log(it.next()) <span class="hljs-comment">// {value: 5, done: false}</span>
<span class="hljs-built_in">console</span>.log(it.next()) <span class="hljs-comment">// {value: 3, done: true}</span>
</div></code></pre>
<p>function t·∫°o iterator <code>makeRangeIterator</code> nh·∫≠n v√†o 3 tham s·ªë ƒë√≥ l√†: d√£y s·ªë nguy√™n b·∫Øt ƒë·∫ßu t·ª´ <code>start</code> ƒë·∫øn <code>end</code> v·ªõi b∆∞·ªõc nh·∫£y l√† <code>step</code>.</p>
<p>Gi√° tr·ªã tr·∫£ v·ªÅ cu·ªëi c√πng l√† k√≠ch th∆∞·ªõc c·ªßa d√£y gi√° tr·ªã m√† n√≥ ƒë√£ t·∫°o, ƒë∆∞·ª£c ghi nh·∫≠n trong bi·∫øn <code>iterationCount</code>.</p>
<p>Nh√¨n v√†o v√≠ d·ª• tr√™n b·∫°n th·∫•y ph∆∞∆°ng th·ª©c <code>next()</code> kh√¥ng?</p>
<p>Ph∆∞∆°ng th·ª©c theo format nh∆∞ v·∫≠y g·ªçi l√† <strong>giao th·ª©c iterator</strong>, nghƒ©a l√† tr·∫£ v·ªÅ m·ªôt object v·ªõi thu·ªôc t√≠nh.</p>
<ul>
<li><code>value</code>: gi√° tr·ªã k·∫ø ti·∫øp c·ªßa chu·ªói gi√° tr·ªã</li>
<li><code>done</code>: boolean, n·∫øu l√† true th√¨ gi√° tr·ªã cu·ªëi c√πng c·ªßa chu·ªói gi√° tr·ªã ƒë√£ ƒë∆∞·ª£c s·ª≠ d·ª•ng</li>
</ul>
<p>Vi·ªác duy·ªát qua iterator ch·ªâ th·ª±c hi·ªán 1 l·∫ßn duy nh·∫•t.</p>
<p>ƒê∆°n gi·∫£n v·∫≠y th√¥i, t√¨m hi·ªÉu ti·∫øp <strong>iterable</strong> nh√©.</p>
<h2 id="iterable-l%C3%A0-g%C3%AC">Iterable l√† g√¨?</h2>
<p><strong>Iterable</strong> nghƒ©a l√† kh·∫£ duy·ªát, t·ª©c l√† c√≥ th·ªÉ l·∫∑p qua c√°c ph·∫ßn t·ª≠ b·∫±ng <code>for...of</code>. M·ªôt ƒë·ªëi t∆∞·ª£ng mu·ªën ƒë∆∞·ª£c l·∫∑p b·∫±ng <code>for...of</code> th√¨ ph·∫£i c√≥ ph∆∞∆°ng th·ª©c <strong>@@iterator</strong> (t√™n ph∆∞∆°ng th·ª©c n√≥ l√† nh∆∞ v·∫≠y, m·ª•c ƒë√≠ch ch·ªß y·∫øu l√† ƒë·ªÉ quy ƒë·ªãnh r√†ng bu·ªôc c√°c ki·ªÉu return trong ph∆∞∆°ng th·ª©c).</p>
<p>Ph∆∞∆°ng th·ª©c <strong>@@iterator</strong> ƒë∆∞·ª£c c√†i ƒë·∫∑t th√¥ng qua thu·ªôc t√≠nh t√™n l√† <code>Symbol.iterator</code> (ki·ªÉu symbol).</p>
<p>V√≠ d·ª• ta c√≥ object <code>range</code> ƒë·∫°i di·ªán cho 1 kho·∫£n gi√° tr·ªã</p>
<pre class="hljs"><code><div><span class="hljs-keyword">let</span> range = {
  <span class="hljs-attr">from</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">to</span>: <span class="hljs-number">5</span>
}
<span class="hljs-comment">// Ch√∫ng ta mu·ªën for...of ho·∫°t ƒë·ªông:</span>
<span class="hljs-comment">// for(let num of range) ... num=1,2,3,4,5</span>
</div></code></pre>
<p>ƒê·ªÉ l√†m object <code>range</code> tr·ªü th√†nh m·ªôt iterable object (v√† ƒë·ªÉ cho <code>for...of</code> ho·∫°t ƒë·ªông) ch√∫ng ta c·∫ßn th√™m m·ªôt ph∆∞∆°ng th·ª©c ƒë∆∞·ª£c ƒë·∫∑t t√™n l√† <code>Symbol.iterator</code>.</p>
<ol>
<li>
<p>Khi <code>for...of</code> b·∫Øt ƒë·∫ßu, n√≥ g·ªçi ph∆∞∆°ng th·ª©c 1 l·∫ßn (ho·∫∑c l·ªói n·∫øu kh√¥ng t√¨m th·∫•y ph∆∞∆°ng th·ª©c). Ph∆∞∆°ng th·ª©c n√†y ph·∫£i return v·ªÅ m·ªôt iterator ‚Äì m·ªôt object v·ªõi ph∆∞∆°ng th·ª©c <code>next</code>.</p>
</li>
<li>
<p>Sau ƒë√≥, <code>for...of</code> ch·ªâ l√†m vi·ªác v·ªõi object ƒë∆∞·ª£c tr·∫£ v·ªÅ c·ªßa <code>next()</code>.</p>
</li>
<li>
<p>Khi <code>for...of</code> mu·ªën gi√° tr·ªã ti·∫øp theo, n√≥ g·ªçi <code>next()</code> tr√™n object ƒë√≥.</p>
</li>
<li>
<p>K·∫øt qu·∫£ c·ªßa <code>next()</code> khi return ph·∫£i l√† ƒë·ªãnh d·∫°ng <code>{done: Boolean, value: any}</code>, khi <code>done==true</code> (gi√° tr·ªã c·ªßa <code>done</code> kh√¥ng nh·∫•t thi·∫øt ph·∫£i true/false, b·∫°n c≈©ng c√≥ th·ªÉ l∆∞u l√† 0/1, nh∆∞ng m√¨nh khuy√™n n√™n d√πng true/false cho t∆∞·ªùng m√¨nh) nghƒ©a l√† qu√° tr√¨nh l·∫∑p k·∫øt th√∫c, n·∫øu kh√¥ng th√¨ <code>value</code> l√† gi√° tr·ªã k·∫ø ti·∫øp.</p>
</li>
</ol>
<p>ƒê√¢y l√† ƒëo·∫°n code ƒë∆∞·ª£c s·ª≠a l·∫°i:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">let</span> range = {
  <span class="hljs-attr">from</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">to</span>: <span class="hljs-number">5</span>
}
<span class="hljs-comment">// 1. for...of y√™u c·∫ßu ph∆∞∆°ng th·ª©c n√†y</span>
range[<span class="hljs-built_in">Symbol</span>.iterator] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-comment">// ...n√≥ tr·∫£ v·ªÅ m·ªôt iterator object:</span>
  <span class="hljs-comment">// 2. Ti·∫øp sau ƒë√≥, for..of ch·ªâ l√†m vi·ªác v·ªõi iterator n√†y,</span>
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">current</span>: <span class="hljs-keyword">this</span>.from,
    <span class="hljs-attr">last</span>: <span class="hljs-keyword">this</span>.to,
    <span class="hljs-comment">// 3. next() ƒë∆∞·ª£c g·ªçi tr√™n m·ªói v√≤ng l·∫∑p for..of</span>
    next() {
      <span class="hljs-comment">// 4. Ph·∫£i return v·ªÅ ƒë·ªãnh d·∫°ng {done:.., value :...}</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.current &lt;= <span class="hljs-keyword">this</span>.last) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">value</span>: <span class="hljs-keyword">this</span>.current++ }
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span> }
      }
    }
  }
}
<span class="hljs-comment">// B√¢y gi·ªù ƒë√£ ho·∫°t ƒë·ªông!</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> num <span class="hljs-keyword">of</span> range) {
  <span class="hljs-built_in">console</span>.log(num) <span class="hljs-comment">// 1, then 2, 3, 4, 5</span>
}
</div></code></pre>
<p>C√≥ th·ªÉ b√¢y gi·ªù b·∫°n s·∫Ω th·∫Øc m·∫Øc. <strong>String</strong>, <strong>Array</strong> c≈©ng c√≥ th·ªÉ d√πng <code>for...of</code> c∆° m√†, c√≥ th·∫•y n√≥ c√†i ph∆∞∆°ng th·ª©c g√¨ ƒë√¢u?</p>
<p>Th·∫≠t ra th√¨ <strong>String</strong>, <strong>Array</strong>, <strong>Map</strong> n√≥ c√≥ s·∫µn ph∆∞∆°ng th·ª©c <strong>@@iterator</strong> m·∫∑c ƒë·ªãnh trong <strong>prototype</strong> c·ªßa n√≥. Trong khi m·ªôt s·ªë ki·ªÉu kh√°c th√¨ kh√¥ng c√≥, v√≠ d·ª• nh∆∞ <strong>Object</strong>.</p>
<p><img src="./array-1.png" alt="array c√≥ ph∆∞∆°ng th·ª©c @@iterator trong prototype c·ªßa n√≥"></p>
<p>ƒê·∫øn ƒë√¢y b·∫°n s·∫Ω t·ª± h·ªèi, v·∫≠y iterator object c√≥ ph·∫£i l√† iterable object hay kh√¥ng?</p>
<p>C√¢u tr·∫£ l·ªùi l√† <strong>kh√¥ng</strong>! ƒê∆°n gi·∫£n v√¨ b·∫°n kh√¥ng th·ªÉ <code>for...of</code> iterator ƒë∆∞·ª£c.</p>
<h2 id="generator-l%C3%A0-g%C3%AC">Generator l√† g√¨?</h2>
<p><strong>Generator</strong> l√† m·ªôt object return b·ªüi m·ªôt generator function, v√† n√≥ c≈©ng l√† m·ªôt <strong>iterable</strong>, c≈©ng nh∆∞ l√† m·ªôt <strong>iterator</strong>.</p>
<p><strong>Generator</strong> ch·ªâ ƒë∆∞·ª£c t·∫°o t·ª´ generator function.</p>
<p><strong>C√∫ ph√°p</strong>:</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">makeGenerator</span>(<span class="hljs-params">i</span>) </span>{
  <span class="hljs-keyword">yield</span> i + <span class="hljs-number">1</span>
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'D√≤ng n√†y s·∫Ω ƒë∆∞·ª£c in khi next() l·∫ßn 2'</span>)
  <span class="hljs-keyword">yield</span> i + <span class="hljs-number">2</span>
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'D√≤ng n√†y s·∫Ω ƒë∆∞·ª£c in khi next() l·∫ßn 3'</span>)
  <span class="hljs-keyword">yield</span> i + <span class="hljs-number">3</span>
  <span class="hljs-keyword">return</span> i + <span class="hljs-number">4</span>
}
<span class="hljs-keyword">const</span> generator = makeGenerator(<span class="hljs-number">0</span>)
generator.next() <span class="hljs-comment">// {value: 1, done: false}</span>
generator.next() <span class="hljs-comment">// {value: 2, done: false}</span>
generator.next() <span class="hljs-comment">// {value: 3, done: false}</span>
generator.next() <span class="hljs-comment">// {value: 4, done: true}</span>
</div></code></pre>
<p><strong>ƒê·∫∑c ƒëi·ªÉm</strong></p>
<ul>
<li>H√†m c√≥ th·ªÉ d·ª´ng l·∫°i khi <code>yield</code> ho·∫∑c <code>return</code>, v√† ti·∫øp t·ª•c ch·∫°y khi b·∫°n <code>next()</code></li>
<li>Kh√¥ng <code>return</code> t·ª©c l√† return undefined</li>
</ul>
<p><strong>Ph∆∞∆°ng th·ª©c c·ªßa generator</strong></p>
<ul>
<li>
<p><code>next()</code>: ti·∫øp t·ª•c cho h√†m ch·∫°y cho ƒë·∫øn khi g·∫∑p <code>yield</code> ho·∫∑c <code>return</code>. return object <code>{value: any, done: true/false}</code></p>
</li>
<li>
<p><code>return(value)</code>: k·∫øt th√∫c generator v√† return object <code>{value: any, done: true}</code></p>
</li>
<li>
<p><code>throw()</code>: quƒÉng 1 l·ªói v√†o trong generator function (ƒë·ªìng th·ªùi k·∫øt th√∫c generator, tr·ª´ khi ƒë∆∞·ª£c b·∫Øt l·∫°i trong generator ƒë√≥). return object <code>{value: any, done: true/false}</code></p>
</li>
</ul>
<p>V√≠ d·ª• v·ªÅ method <code>return()</code></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">gen</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>
  <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span>
  <span class="hljs-keyword">yield</span> <span class="hljs-number">3</span>
}
<span class="hljs-keyword">const</span> g = gen()
g.next() <span class="hljs-comment">// { value: 1, done: false }</span>
g.return(<span class="hljs-string">'foo'</span>) <span class="hljs-comment">// { value: "foo", done: true }</span>
g.next() <span class="hljs-comment">// { value: undefined, done: true }</span>
</div></code></pre>
<p>V√≠ d·ª• v·ªÅ method <code>throw()</code></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">gen</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">yield</span> <span class="hljs-number">42</span>
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-built_in">console</span>.log(e.message)
    }
  }
}
<span class="hljs-keyword">const</span> g = gen()
g.next()
<span class="hljs-comment">// { value: 42, done: false }</span>
g.throw(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Something went wrong'</span>))
<span class="hljs-comment">// "Something went wrong"</span>
<span class="hljs-comment">// { value: 42, done: false }</span>
</div></code></pre>
<h2 id="c%C3%A1c-tr%C6%B0%E1%BB%9Dng-h%E1%BB%A3p-d%C3%B9ng-generator">C√°c tr∆∞·ªùng h·ª£p d√πng generator</h2>
<h3 id="generator-%C3%A1p-d%E1%BB%A5ng-trong-redux-saga">Generator √°p d·ª•ng trong Redux-Saga</h3>
<p>N·∫øu b·∫°n d√πng Redux-Saga v·ªõi React th√¨ ch·∫Øc h·∫≥n kh√¥ng l·∫° g√¨ v·ªõi generator v√† yield</p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { put, takeEvery, call } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux-saga/effects'</span>
<span class="hljs-keyword">const</span> url = <span class="hljs-string">'/api/data/get'</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">requestFetch</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">yield</span> put({ <span class="hljs-attr">type</span>: <span class="hljs-string">'FETCH_DATA'</span> })
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> dataJSON = <span class="hljs-keyword">yield</span> call(
      fetch(url, { <span class="hljs-string">'content-type'</span>: <span class="hljs-string">'application/json'</span> })
    )
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">yield</span> call(dataJSON.json())
    <span class="hljs-keyword">yield</span> put({ <span class="hljs-attr">type</span>: <span class="hljs-string">'FETCH_DATA_SUCCESS'</span>, data })
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">yield</span> put({ <span class="hljs-attr">type</span>: <span class="hljs-string">'FETCH_DATA_FAIL'</span>, error })
  }
}
</div></code></pre>
<h3 id="c%C3%A1c-tr%C6%B0%E1%BB%9Dng-h%E1%BB%A3p-c%E1%BA%A7n-ghi-nh%E1%BB%9B">C√°c tr∆∞·ªùng h·ª£p c·∫ßn ghi nh·ªõ</h3>
<p>V√≠ d·ª• ch√∫ng ta xem video, khi pause gi·ªØa ch·ª´ng 1 video v√† nh·∫•n play l·∫°i. Ch√∫ng ta mu·ªën l√† m√°y t√≠nh s·∫Ω t√≠nh to√°n v√† load ti·∫øp t·ª•c t·ª´ ƒëo·∫°n pause tr·ªü ƒëi ch·ª© kh√¥ng ph·∫£i l√† b·∫Øt ƒë·∫ßu l·∫°i t·ª´ ƒë·∫ßu.</p>
<p>ƒêi·ªÉn h√¨nh l√† b√†i to√°n vi·∫øt m·ªôt h√†m ƒë·ªÉ in ra s·ªë fibonacci th·ª© 1, 2, 3, 4.</p>
<p>N·∫øu code th√¥ng th∆∞·ªùng th√¨ ta s·∫Ω code nh∆∞ th·∫ø n√†y</p>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> fibonacci = <span class="hljs-function">(<span class="hljs-params">n</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (n === <span class="hljs-number">1</span> || n === <span class="hljs-number">2</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
  }
  <span class="hljs-keyword">return</span> fibonacci(n - <span class="hljs-number">1</span>) + fibonacci(n - <span class="hljs-number">2</span>)
}
<span class="hljs-built_in">console</span>.log(fibonacci(<span class="hljs-number">1</span>)) <span class="hljs-comment">// 1</span>
<span class="hljs-built_in">console</span>.log(fibonacci(<span class="hljs-number">2</span>)) <span class="hljs-comment">// 1</span>
<span class="hljs-built_in">console</span>.log(fibonacci(<span class="hljs-number">3</span>)) <span class="hljs-comment">// 2</span>
<span class="hljs-built_in">console</span>.log(fibonacci(<span class="hljs-number">4</span>)) <span class="hljs-comment">// 3</span>
</div></code></pre>
<p>N·∫øu vi·∫øt theo c√°ch n√†y th√¨ khi t√≠nh s·ªë fibinacci th·ª© 3 th√¨ ta ph·∫£i t√≠nh l·∫°i s·ªë fibonacci th·ª© 2 (m·∫∑c d·∫ßu tr∆∞·ªõc ƒë√≥ ta ƒë√£ t√≠nh r·ªìi), nh∆∞ v·∫≠y kh√° t·ªën hi·ªáu nƒÉng m√°y t√≠nh.</p>
<p>S·∫Ω c√≥ nhi·ªÅu h∆∞·ªõng gi·∫£i quy·∫øt cho b√†i to√°n n√†y, d√πng generator function l√† m·ªôt v√≠ d·ª•.</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">fibonacci</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> prev = <span class="hljs-number">0</span>
  <span class="hljs-keyword">let</span> curr = <span class="hljs-number">1</span>
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">yield</span> curr
    <span class="hljs-keyword">const</span> next = prev + curr
    prev = curr
    curr = next
  }
}
<span class="hljs-keyword">const</span> fib = fibonacci()
<span class="hljs-built_in">console</span>.log(fib.next().value) <span class="hljs-comment">// 1</span>
<span class="hljs-built_in">console</span>.log(fib.next().value) <span class="hljs-comment">// 1</span>
<span class="hljs-built_in">console</span>.log(fib.next().value) <span class="hljs-comment">// 2</span>
<span class="hljs-built_in">console</span>.log(fib.next().value) <span class="hljs-comment">// 3</span>
</div></code></pre>
<p>Ho·∫∑c ƒë∆°n c·ª≠ b√†i to√°n t·∫°o ra c√°c ID ri√™ng bi·ªát</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span>* <span class="hljs-title">makeId</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) <span class="hljs-keyword">yield</span> i++
}
<span class="hljs-keyword">const</span> ids = makeId()
<span class="hljs-built_in">console</span>.log(ids.next().value) <span class="hljs-comment">// 0</span>
<span class="hljs-built_in">console</span>.log(ids.next().value) <span class="hljs-comment">// 1</span>
<span class="hljs-built_in">console</span>.log(ids.next().value) <span class="hljs-comment">// 2</span>
</div></code></pre>
<h2 id="t%C3%B3m-l%E1%BA%A1i">T√≥m l·∫°i</h2>
<p>Sau b√†i h√¥m nay, m√¨nh hy v·ªçng ƒë√£ gi·∫£i ƒë√°p ƒë∆∞·ª£c m·ªôt ph·∫ßn th·∫Øc m·∫Øc c·ªßa m·ªçi ng∆∞·ªùi v·ªÅ 3 kh√°i ni√™m <strong>Iterator</strong>, <strong>Iterable</strong> v√† <strong>Generator</strong>. Ch√∫ng kh√¥ng qu√° kh√≥ ƒë·ªÉ hi·ªÉu, v√¨ th·∫ø h√£y ƒë·ªçc c·∫©n th·∫≠n nha :mrgreen:</p>
<p>H·∫πn g·∫∑p m·ªçi ng∆∞·ªùi ·ªü b√†i ti·∫øp theo.</p>
<h2 id="tham-kh%E1%BA%A3o">Tham kh·∫£o</h2>
<p><a href="https://developer.mozilla.org/vi/docs/Web/JavaScript/Guide/Iterators_and_Generators">https://developer.mozilla.org/vi/docs/Web/JavaScript/Guide/Iterators_and_Generators</a></p>
<p><a href="https://javascript.info/iterable">https://javascript.info/iterable</a></p>

</body>
</html>
