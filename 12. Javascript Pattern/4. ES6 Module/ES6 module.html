<!DOCTYPE html>
<html>
<head>
<title>ES6 module.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="es6-module">ES6 Module</h1>
<p>Trước khi ES6 xuất hiện thì Javascript không có tính năng module hóa, anh em dev phải dựa vào các thứ viện ngoài như Webpack hoặc tự tạo theo Module Pattern mà mình giới thiệu ở phần 1 để module hóa ứng dụng web.</p>
<p>Giờ đây thì ta có thể dùng ES6 module ở trong môi trường trình duyệt thông thường, ở trong <a href="https://webpack.js.org/api/module-methods/#es6-recommended">Webpack</a> hoặc <a href="https://nodejs.medium.com/announcing-core-node-js-support-for-ecmascript-modules-c5d6dc29b663">NodeJs phiên bản 13.2.0</a> trở lên.</p>
<p>ES6 Module lưu trữ trên từng file, mỗi file là một module. Mọi thứ bên trong module mặc định là private. Hàm, biến và các class được “xuất” ra ngoài bằng từ khóa export. Code bên trong module luôn luôn chạy ở chế độ <strong>strict mode</strong>.</p>
<h2 id="export-m%E1%BB%99t-module">Export một module</h2>
<p>Có 2 cách để export một function hoặc 1 biến:</p>
<h3 id="s%E1%BB%AD-d%E1%BB%A5ng-t%E1%BB%AB-kh%C3%B3a-export-%E1%BB%9F-tr%C6%B0%E1%BB%9Bc-khai-b%C3%A1o-function-ho%E1%BA%B7c-bi%E1%BA%BFn">Sử dụng từ khóa <code>export</code> ở trước khai báo function hoặc biến.</h3>
<p>Ví dụ:</p>
<p><strong>utils.js</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> greeting = <span class="hljs-string">'Hello World'</span>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span>(<span class="hljs-params">num1, num2</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Sum:'</span>, num1, num2)
  <span class="hljs-keyword">return</span> num1 + num2
}
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">subtract</span>(<span class="hljs-params">num1, num2</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Subtract:'</span>, num1, num2)
  <span class="hljs-keyword">return</span> num1 - num2
}
<span class="hljs-comment">// Đây là một private function</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">privateLog</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Private Function'</span>)
}
</div></code></pre>
<h3 id="th%C3%AAm-t%E1%BB%AB-kh%C3%B3a-export-v%C3%A0o-d%C6%B0%E1%BB%9Bi-khai-b%C3%A1o-bi%E1%BA%BFn-ho%E1%BA%B7c-function">Thêm từ khóa <code>export</code> vào dưới khai báo biến hoặc function.</h3>
<p>Ví dụ:</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">multiply</span>(<span class="hljs-params">num1, num2</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Multiply:'</span>, num1, num2)
  <span class="hljs-keyword">return</span> num1 * num2
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">divide</span>(<span class="hljs-params">num1, num2</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Divide:'</span>, num1, num2)
  <span class="hljs-keyword">return</span> num1 / num2
}
<span class="hljs-comment">// Đây là một private function</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">privateLog</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Private Function'</span>)
}
<span class="hljs-keyword">export</span> { multiply, divide }
</div></code></pre>
<h2 id="import-m%E1%BB%99t-module">Import một module</h2>
<p>Tương tự như export một module, có 2 cách để import một module bằng cách sử dụng từ khóa <code>import</code>.</p>
<h3 id="import-nhi%E1%BB%81u-bi%E1%BA%BFnh%C3%A0m-c%C3%B9ng-m%E1%BB%99t-l%E1%BA%A7n">Import nhiều biến/hàm cùng một lần</h3>
<p>Ví dụ:
<strong>main.js</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">// import nhiều phần tử</span>
<span class="hljs-keyword">import</span> { sum, multiply } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils.js'</span>
<span class="hljs-built_in">console</span>.log(sum(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>))
<span class="hljs-built_in">console</span>.log(multiply(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>))
</div></code></pre>
<h3 id="import-t%E1%BA%A5t-c%E1%BA%A3-%E1%BB%9F-trong-module">Import tất cả ở trong module</h3>
<p><strong>main.js</strong></p>
<pre class="hljs"><code><div><span class="hljs-comment">// import tất cả phần tử trong module</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> utils <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils.js'</span>
<span class="hljs-built_in">console</span>.log(utils.sum(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>))
<span class="hljs-built_in">console</span>.log(utils.multiply(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>))
</div></code></pre>
<h2 id="import-v%C3%A0-export-c%C5%A9ng-c%C3%B3-th%E1%BB%83-d%C3%B9ng-b%C3%AD-danh-alias">Import và Export cũng có thể dùng bí danh (alias)</h2>
<p>Nếu bạn muốn tránh việc xung đột tên, bạn có thể thay đổi tên export cũng như import.</p>
<p>Ví dụ Đổi tên một export</p>
<p><strong>utils.js</strong></p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span>(<span class="hljs-params">num1, num2</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Sum:'</span>, num1, num2)
  <span class="hljs-keyword">return</span> num1 + num2
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">multiply</span>(<span class="hljs-params">num1, num2</span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Multiply:'</span>, num1, num2)
  <span class="hljs-keyword">return</span> num1 * num2
}
<span class="hljs-keyword">export</span> { sum <span class="hljs-keyword">as</span> add, multiply }
</div></code></pre>
<p>Đổi tên một import</p>
<p><strong>main.js</strong></p>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { add, multiply <span class="hljs-keyword">as</span> mult } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils.js'</span>
<span class="hljs-built_in">console</span>.log(add(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>))
<span class="hljs-built_in">console</span>.log(mult(<span class="hljs-number">3</span>, <span class="hljs-number">7</span>))
</div></code></pre>
<p>Trong file HTML các bạn nhớ link đến file <strong>main.js</strong> (file mà import các file khác) nhé</p>
<p><strong>index.html</strong></p>
<pre class="hljs"><code><div><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"main.js"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</div></code></pre>

</body>
</html>
